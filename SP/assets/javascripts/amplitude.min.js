var Amplitude=function(){function c(c){I(),q(),r(),a.debug=void 0!=c.debug&&c.debug,a.dynamic_mode=void 0!=c.dynamic_mode&&c.dynamic_mode,a.use_visualizations=void 0!=c.use_visualizations&&c.use_visualizations,window.AudioContext&&a.use_visualizations?(a.context=new AudioContext,a.analyser=a.context.createAnalyser(),a.source=a.context.createMediaElementSource(a.active_song),a.source.connect(a.analyser),a.analyser.connect(a.context.destination),a.active_song.crossOrigin="anonymous"):window.AudioContext||M("This browser does not support the Web Audio API");var d=!1;c.dynamic_mode?d=!0:c.songs?0!=c.songs.length?(a.songs=c.songs,d=!0):M("Please add some songs, to your songs object!"):M("Please provide a songs object for AmplitudeJS to run!"),d&&(a.soundcloud_client=void 0!=c.soundcloud_client?c.soundcloud_client:"",a.soundcloud_use_art=void 0!=c.soundcloud_use_art?c.soundcloud_use_art:"",""!=a.soundcloud_client?(b=c,Z()):J(c))}function d(b){a.debug=b}function e(){return a.active_metadata}function f(b,c){a.visualizations[b.getID]=b,void 0!=c&&b.setPreferences(c)}function g(b){Y(),a.active_visualization=b,X()}function h(){return!!window.AudioContext}function j(b){return a.songs[b]}function k(){return a.active_index}function l(b){return a.songs.push(b),a.songs.length-1}function m(b){b.url?(a.active_song.src=b.url,a.active_metadata=b,a.active_album=b.album):M("The song needs to have a URL!"),ca("playing"),Q()}function n(){a.dynamic_mode&&la()}function o(){ma()}function p(){return a.analyser}function q(){var b=window.navigator.userAgent,c=b.indexOf("MSIE ");a.active_song.removeEventListener("timeupdate",E),a.active_song.addEventListener("timeupdate",E),a.active_song.removeEventListener("ended",D),a.active_song.addEventListener("ended",D);for(var d=document.getElementsByClassName("amplitude-play"),e=0;e<d.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(d[e].removeEventListener("touchstart",t),d[e].addEventListener("touchstart",t)):(d[e].removeEventListener("click",t),d[e].addEventListener("click",t));for(var f=document.getElementsByClassName("amplitude-pause"),e=0;e<f.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(f[e].removeEventListener("touchstart",u),f[e].addEventListener("touchstart",u)):(f[e].removeEventListener("click",u),f[e].addEventListener("click",u));for(var g=document.getElementsByClassName("amplitude-stop"),e=0;e<g.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(g[e].removeEventListener("touchstart",v),g[e].addEventListener("touchstart",v)):(g[e].removeEventListener("click",v),g[e].addEventListener("click",v));for(var h=document.getElementsByClassName("amplitude-play-pause"),e=0;e<h.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(h[e].removeEventListener("touchstart",s),h[e].addEventListener("touchstart",s)):(h[e].removeEventListener("click",s),h[e].addEventListener("click",s));for(var i=document.getElementsByClassName("amplitude-mute"),e=0;e<i.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?/iPhone|iPad|iPod/i.test(navigator.userAgent)?M("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):(i[e].removeEventListener("touchstart",w),i[e].addEventListener("touchstart",w)):(i[e].removeEventListener("click",w),i[e].addEventListener("click",w));for(var j=document.getElementsByClassName("amplitude-volume-up"),e=0;e<j.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?/iPhone|iPad|iPod/i.test(navigator.userAgent)?M("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):(j[e].removeEventListener("touchstart",x),j[e].addEventListener("touchstart",x)):(j[e].removeEventListener("click",x),j[e].addEventListener("click",x));for(var k=document.getElementsByClassName("amplitude-volume-down"),e=0;e<k.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?/iPhone|iPad|iPod/i.test(navigator.userAgent)?M("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):(k[e].removeEventListener("touchstart",y),k[e].addEventListener("touchstart",y)):(k[e].removeEventListener("click",y),k[e].addEventListener("click",y));for(var l=document.getElementsByClassName("amplitude-song-slider"),e=0;e<l.length;e++)c>0||navigator.userAgent.match(/Trident.*rv\:11\./)?(l[e].removeEventListener("change",A),l[e].addEventListener("change",A)):(l[e].removeEventListener("input",A),l[e].addEventListener("input",A));for(var m=document.getElementsByClassName("amplitude-volume-slider"),e=0;e<m.length;e++)/iPhone|iPad|iPod/i.test(navigator.userAgent)?M("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):(m[e].removeEventListener("input",z),m[e].addEventListener("input",z));for(var n=document.getElementsByClassName("amplitude-next"),e=0;e<n.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(n[e].removeEventListener("touchstart",B),n[e].addEventListener("touchstart",B)):(n[e].removeEventListener("click",B),n[e].addEventListener("click",B));for(var o=document.getElementsByClassName("amplitude-prev"),e=0;e<o.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(o[e].removeEventListener("touchstart",C),o[e].addEventListener("touchstart",C)):(o[e].removeEventListener("click",C),o[e].addEventListener("click",C));for(var p=document.getElementsByClassName("amplitude-shuffle"),e=0;e<p.length;e++)p[e].classList.remove("amplitude-shuffle-on"),p[e].classList.add("amplitude-shuffle-off"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(p[e].removeEventListener("touchstart",F),p[e].addEventListener("touchstart",F)):(p[e].removeEventListener("click",F),p[e].addEventListener("click",F));for(var q=document.getElementsByClassName("amplitude-repeat"),e=0;e<q.length;e++)q[e].classList.remove("amplitude-repeat-on"),q[e].classList.add("amplitude-repeat-off"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(q[e].removeEventListener("touchstart",G),q[e].addEventListener("touchstart",G)):(q[e].removeEventListener("click",G),q[e].addEventListener("click",G));for(var r=document.getElementsByClassName("amplitude-playback-speed"),e=0;e<r.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(r[e].removeEventListener("touchstart",H),r[e].addEventListener("touchstart",H)):(r[e].removeEventListener("click",H),r[e].addEventListener("click",H))}function r(){for(var a=document.getElementsByClassName("amplitude-song-time-visualization"),b=0;b<a.length;b++){var c=document.createElement("div");c.classList.add("amplitude-song-time-visualization-status"),c.setAttribute("style","width: 0px"),a[b].appendChild(c)}}function s(){var b=this.getAttribute("amplitude-song-index");N(b)?(O(b),ba(),da(),ca("playing"),X(),la()):a.active_song.paused?(ca("playing"),X(),la(this.getAttribute("amplitude-song-index"))):(ca("paused"),ma())}function t(){var a=this.getAttribute("amplitude-song-index");N(a)&&(O(a),da()),X(),la()}function u(){ma()}function v(){Y(),na()}function w(){0==a.volume?a.volume=a.pre_mute_volume:(a.pre_mute_volume=a.volume,a.volume=0),oa(100*a.volume),ea()}function x(){100*a.volume+a.volume_increment<=100?a.volume=a.volume+a.volume_increment/100:a.volume=1,oa(100*a.volume),ea()}function y(){100*a.volume-a.volume_decrement>0?a.volume=a.volume-a.volume_decrement/100:a.volume=0,oa(100*a.volume),ea()}function z(){a.volume=this.value/100,oa(this.value),ea()}function A(){a.active_song.paused||(this.getAttribute("amplitude-singular-song-slider")&&pa(this.value),this.getAttribute("amplitude-song-index")==a.active_index&&pa(this.value))}function B(){if(T("before_next"),na(),a.shuffle_on)if(parseInt(a.shuffle_active_index)+1<a.shuffle_list.length){var b=parseInt(a.shuffle_active_index)+1;P(a.suffle_list[b].album),L(b,a.shuffle_on),a.album_change&&(T("after_album_change"),a.album_change=!1),a.shuffle_active_index=b}else P(a.suffle_list[0].album),L(0,a.shuffle_on),a.album_change&&(T("after_album_change"),a.album_change=!1),a.shuffle_active_index=0;else if(parseInt(a.active_index)+1<a.songs.length){var b=parseInt(a.active_index)+1;P(a.songs[b].album),L(b,a.shuffle_on),a.album_change&&(T("after_album_change"),a.album_change=!1),a.active_index=b}else P(a.songs[0].album),L(0,a.shuffle_on),a.album_change&&(T("after_album_change"),a.album_change=!1),a.active_index=0;ca("playing"),Q(),T("after_next")}function C(){if(T("before_prev"),na(),a.shuffle_on)if(parseInt(a.shuffle_active_index)-1>=0){var b=parseInt(a.shuffle_active_index)-1;P(a.suffle_list[b].album),L(b,a.shuffle_on),a.album_change&&(T("after_album_change"),a.album_change=!1),a.shuffle_active_index=b}else{var b=parseInt(a.shuffle_list.length-1);P(a.suffle_list[b].album),L(b,a.shuffle_on),a.album_change&&(T("after_album_change"),a.album_change=!1),a.shuffle_active_index=b}else if(parseInt(a.active_index)-1>=0){var b=parseInt(parseInt(a.active_index)-1);P(a.songs[b].album),L(b,a.shuffle_on),a.album_change&&(T("after_album_change"),a.album_change=!1),a.active_index=b}else{var b=a.songs.length-1;P(a.songs[b].album),L(b,a.shuffle_on),a.album_change&&(T("after_album_change"),a.album_change=!1),a.active_index=b}ca("playing"),Q(),T("after_prev")}function D(){if(a.repeat)na(),Q();else if(a.songs.length>1){if(na(),a.shuffle_on)if(parseInt(a.shuffle_active_index)+1<a.shuffle_list.length){var b=parseInt(a.shuffle_active_index)+1;L(b,a.shuffle_on),a.shuffle_active_index=parseInt(a.shuffle_active_index)+1}else L(0,a.shuffle_on),a.shuffle_active_index=0;else if(parseInt(a.active_index)+1<a.songs.length){var b=parseInt(a.active_index)+1;L(b,a.shuffle_on),a.active_index=parseInt(a.active_index)+1}else L(0,a.shuffle_on),a.active_index=0;Q()}else ba(),ga();T("after_song_ended")}function E(){var b=(Math.floor(a.active_song.currentTime%60)<10?"0":"")+Math.floor(a.active_song.currentTime%60),c=Math.floor(a.active_song.currentTime/60);c<10&&(c="0"+c);var d="00";c>60&&(c%=60,d=Math.ceil(c/60),d<10&&(d="0"+d),c<10&&(c="0"+c));var e=(Math.floor(a.active_song.duration%60)<10?"0":"")+Math.floor(a.active_song.duration%60),f=Math.floor(a.active_song.duration/60);f<10&&(f="0"+f);var g="00";f>60&&(f%=60,g=Math.ceil(f/60),g<10&&(g="0"+g),f<10&&(f="0"+f));var h="";if(h=document.querySelector('[amplitude-singular-song-slider="true"]')?document.querySelector('[amplitude-singular-song-slider="true"]'):document.querySelector('input[amplitude-song-index="'+a.active_index+'"]'),!a.active_metadata.live){if(document.querySelectorAll('[amplitude-single-song-time-visualization="true"]').length>0){current_song_time_visualization=document.querySelectorAll('[amplitude-single-song-time-visualization="true"]');for(var i=0;i<current_song_time_visualization.length;i++){var j=current_song_time_visualization[i].querySelectorAll(".amplitude-song-time-visualization-status"),k=current_song_time_visualization[i].offsetWidth;j[0].setAttribute("style","width:"+k*(a.active_song.currentTime/a.active_song.duration)+"px")}}if(document.querySelectorAll('.amplitude-song-time-visualization[amplitude-song-index="'+a.active_index+'"]').length>0){current_song_time_visualization=document.querySelectorAll('.amplitude-song-time-visualization[amplitude-song-index="'+a.active_index+'"]');for(var i=0;i<current_song_time_visualization.length;i++){var j=current_song_time_visualization[i].querySelectorAll(".amplitude-song-time-visualization-status"),k=current_song_time_visualization[i].offsetWidth;j[0].setAttribute("style","width:"+k*(a.active_song.currentTime/a.active_song.duration)+"px")}}}if(document.querySelectorAll('[amplitude-single-current-hours="true"]').length>0)for(var l=document.querySelectorAll('[amplitude-single-current-hours="true"]'),i=0;i<l.length;i++)l[i].innerHTML=d;if(document.querySelectorAll('.amplitude-current-hours[amplitude-song-index="'+a.active_index+'"]').length>0)for(var m=document.querySelectorAll('.amplitude-current-hours[amplitude-song-index="'+a.active_index+'"]'),i=0;i<m.length;i++)m[i].innerHTML=d;if(document.querySelectorAll('[amplitude-single-current-minutes="true"]').length>0)for(var n=document.querySelectorAll('[amplitude-single-current-minutes="true"]'),i=0;i<n.length;i++)n[i].innerHTML=c;if(document.querySelectorAll('.amplitude-current-minutes[amplitude-song-index="'+a.active_index+'"]').length>0)for(var o=document.querySelectorAll('.amplitude-current-minutes[amplitude-song-index="'+a.active_index+'"]'),i=0;i<o.length;i++)o[i].innerHTML=c;if(document.querySelectorAll('[amplitude-single-current-seconds="true"]').length>0)for(var p=document.querySelectorAll('[amplitude-single-current-seconds="true"]'),i=0;i<p.length;i++)p[i].innerHTML=b;if(document.querySelectorAll('.amplitude-current-seconds[amplitude-song-index="'+a.active_index+'"]').length>0)for(var q=document.querySelectorAll('.amplitude-current-seconds[amplitude-song-index="'+a.active_index+'"]'),i=0;i<q.length;i++)q[i].innerHTML=b;if(!a.active_metadata.live){if(document.querySelectorAll('[amplitude-single-duration-hours="true"]').length>0)for(var r=document.querySelectorAll('[amplitude-single-duration-hours="true"]'),i=0;i<r.length;i++)r[i].innerHTML=g;if(document.querySelectorAll('.amplitude-duration-hours[amplitude-song-index="'+a.active_index+'"]').length>0)for(var s=document.querySelectorAll('.amplitude-duration-hours[amplitude-song-index="'+a.active_index+'"]'),i=0;i<s.length;i++)s[i].innerHTML=g;if(document.querySelectorAll('[amplitude-single-duration-minutes="true"]').length>0)for(var t=document.querySelectorAll('[amplitude-single-duration-minutes="true"]'),i=0;i<t.length;i++)t[i].innerHTML=f;if(document.querySelectorAll('.amplitude-duration-minutes[amplitude-song-index="'+a.active_index+'"]').length>0)for(var u=document.querySelectorAll('.amplitude-duration-minutes[amplitude-song-index="'+a.active_index+'"]'),i=0;i<u.length;i++)u[i].innerHTML=f;if(document.querySelectorAll('[amplitude-single-duration-seconds="true"]').length>0)for(var v=document.querySelectorAll('[amplitude-single-duration-seconds="true"]'),i=0;i<v.length;i++)v[i].innerHTML=e;if(document.querySelectorAll('.amplitude-duration-seconds[amplitude-song-index="'+a.active_index+'"]').length>0)for(var w=document.querySelectorAll('.amplitude-duration-seconds[amplitude-song-index="'+a.active_index+'"]'),i=0;i<w.length;i++)w[i].innerHTML=e}!a.active_metadata.live&&h&&(void 0!=a.active_metadata.duration?h.value=a.active_song.currentTime/a.active_metadata.duration*1e3*100:h.value=a.active_song.currentTime/a.active_song.duration*100)}function F(){a.shuffle_on?(a.shuffle_on=!1,a.shuffle_list={},a.shuffle_active_index=0):(a.shuffle_on=!0,R()),ia()}function G(){a.repeat?a.repeat=!1:a.repeat=!0,ja()}function H(){switch(a.playback_speed){case 1:a.playback_speed=1.5;break;case 1.5:a.playback_speed=2;break;case 2:a.playback_speed=1}a.active_song.playbackRate=a.playback_speed,ka()}function I(){a.active_song=new Audio,a.active_metadata={},a.active_album="",a.active_index=0,a.pause_clicked=!1,a.autoplay=!1,a.playback_speed=1,a.album_change=!1,a.dynamic_mode=!1,a.callbacks={},a.songs={},a.repeat=!1,a.shuffle_list={},a.shuffle_on=!1,a.shuffle_active_index=0,a.default_album_art="",a.debug=!1,a.initialized=!1,a.handle_song_elements=!0,a.volume=.5,a.pre_mute_volume=.5,a.volume_increment=5,a.volume_decrement=5,a.use_visualizations=!1,a.visualizations=new Array,a.active_visualization="",a.current_visualization={},a.visualization_started=!1,a.visualization_backup="",a.soundcloud_client="",a.soundcloud_use_art=!1,a.soundcloud_song_count=0,a.soundcloud_songs_ready=0}function J(c){if(a.dynamic_mode||(void 0!=c.start_song?(L(c.start_song,!1),a.active_index=c.start_song):(L(0,!1),a.active_index=0)),a.playback_speed=void 0!=c.playback_speed?c.playback_speed:1,a.active_song.playbackRate=a.playback_speed,void 0==a.active_metadata.live&&(a.active_metadata.live=!1),a.active_song.preload=void 0!=c.preload?c.preload:"metadata",a.callbacks=void 0!=c.callbacks?c.callbacks:{},a.volume=void 0!=c.volume?c.volume:.5,a.active_song.volume=a.volume,a.volume_increment=void 0!=c.volume_increment?c.volume_increment:5,a.volume_decrement=void 0!=c.volume_decrement?c.volume_decrement:5,a.handle_song_elements=void 0==c.handle_song_elements||c.handle_song_elements,a.default_album_art=void 0!=c.default_album_art?c.default_album_art:"",a.visualization_backup=void 0!=c.visualization_backup?c.visualization_backup:"nothing",a.initialized=!0,ea(),fa(),ga(),da(),U(),ka(),a.handle_song_elements&&V(),ha(),W(),b={},T("after_init"),c.autoplay){var d=a.start_song;N(d)&&(O(d),da()),X(),ca("playing"),la()}}function K(){switch(a.visualization_backup){case"nothing":document.getElementById("amplitude-visualization")&&document.getElementById("amplitude-visualization").remove();break;case"album-art":var b=document.getElementById("amplitude-visualization");if(b){var c=b.parentNode,d=document.createElement("img");d.setAttribute("amplitude-song-info","cover"),d.setAttribute("class","amplitude-album-art"),document.querySelector('[amplitude-song-info="cover"]')&&(void 0!=a.active_metadata.cover_art_url?(d.setAttribute("src",a.active_metadata.cover_art_url),document.querySelector('[amplitude-song-info="cover"]').setAttribute("src",a.active_metadata.cover_art_url)):""!=a.default_album_art?d.setAttribute("src",a.default_album_art):d.setAttribute("src","")),c.replaceChild(d,b)}}}function L(b,c){c?(a.active_song.src=a.shuffle_list[b].url,a.active_metadata=a.shuffle_list[b],a.active_album=a.shuffle_list[b].album):(a.active_song.src=a.songs[b].url,a.active_metadata=a.songs[b],a.active_album=a.songs[b].album)}function M(b){a.debug&&console.log(b)}function N(b){return null!=b&&b!=a.active_index}function O(b){na(),P(a.songs[b].album),a.active_index=b,L(b,a.shuffle_on),a.album_change&&(T("after_album_change"),a.album_change=!1),a.handle_song_elements&&V(),ga(),U(),W()}function P(b){a.active_album!=b&&(a.album_change=!0,T("before_album_change"))}function Q(){U()&&X(),a.handle_song_elements&&V(),da(),ga(),ha(),W(),la()}function R(){var b=new Array(a.songs.length);for(i=0;i<a.songs.length;i++)b[i]=a.songs[i];for(i=a.songs.length-1;i>0;i--)rand_num=Math.floor(Math.random()*a.songs.length+1),S(b,i,rand_num-1);a.shuffle_list=b}function S(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function T(b){if(a.callbacks[b]){var c=window[a.callbacks[b]];c()}}function U(){var b=!1;return a.active_metadata.visualization&&a.active_metadata.visualization!=a.active_visualization&&""!=a.active_visualization&&(Y(),b=!0,a.active_visualization=a.active_metadata.visualization),b}function V(){if(document.querySelectorAll('[amplitude-song-info="name"]')){var b=document.querySelectorAll('[amplitude-song-info="name"]');for(i=0;i<b.length;i++)b[i].innerHTML=a.active_metadata.name}if(document.querySelectorAll('[amplitude-song-info="artist"]')){var c=document.querySelectorAll('[amplitude-song-info="artist"]');for(i=0;i<c.length;i++)c[i].innerHTML=a.active_metadata.artist}if(document.querySelectorAll('[amplitude-song-info="album"]')){var d=document.querySelectorAll('[amplitude-song-info="album"]');for(i=0;i<d.length;i++)d[i].innerHTML=a.active_metadata.album}if(document.querySelectorAll('[amplitude-song-info="cover"]')){var e=document.querySelectorAll('[amplitude-song-info="cover"]');for(i=0;i<e.length;i++)void 0!=a.active_metadata.cover_art_url?e[i].setAttribute("src",a.active_metadata.cover_art_url):""!=a.default_album_art?e[i].setAttribute("src",a.default_album_art):e[i].setAttribute("src","")}if(document.querySelectorAll('[amplitude-song-info="call-sign"]')){var f=document.querySelectorAll('[amplitude-song-info="call-sign"]');for(i=0;i<f.length;i++)f[i].innerHTML=a.active_metadata.call_sign}if(document.querySelectorAll('[amplitude-song-info="station-name"]')){var g=document.querySelectorAll('[amplitude-song-info="station-name"]');for(i=0;i<g.length;i++)g[i].innerHTML=a.active_metadata.station_name}if(document.querySelectorAll('[amplitude-song-info="location"]')){var h=document.querySelectorAll('[amplitude-song-info="location"]');for(i=0;i<h.length;i++)h[i].innerHTML=a.active_metadata.location}if(document.querySelectorAll('[amplitude-song-info="frequency"]')){var j=document.querySelectorAll('[amplitude-song-info="frequency"]');for(i=0;i<j.length;i++)j[i].innerHTML=a.active_metadata.frequency}if(document.querySelectorAll('[amplitude-song-info="station-art"]')){var e=document.querySelectorAll('[amplitude-song-info="station-art"]');for(i=0;i<e.length;i++)void 0!=a.active_metadata.cover_art_url?e[i].setAttribute("src",a.active_metadata.station_art_url):""!=a.default_album_art?e[i].setAttribute("src",a.default_album_art):e[i].setAttribute("src","")}if(document.querySelectorAll('[amplitude-song-info="podcast-episode-date"]')){var k=document.querySelectorAll('[amplitude-song-info="podcast-episode-date"]');for(i=0;i<k.length;i++)k[i].innerHTML=a.active_metadata.podcast_episode_date}if(document.querySelectorAll('[amplitude-song-info="podcast-episode-play-count"]')){var l=document.querySelectorAll('[amplitude-song-info="podcast-episode-play-count"]');for(i=0;i<l.length;i++)l[i].innerHTML=a.active_metadata.podcast_episode_play_count}if(document.querySelectorAll('[amplitude-song-info="podcast-episode-published-date"]')){var m=document.querySelectorAll('[amplitude-song-info="podcast-episode-published-date"]');for(i=0;i<m.length;i++)m[i].innerHTML=a.active_metadata.podcast_episode_published_date}if(document.querySelectorAll('[amplitude-song-info="podcast-episode-name"]')){var n=document.querySelectorAll('[amplitude-song-info="podcast-episode-name"]');for(i=0;i<n.length;i++)n[i].innerHTML=a.active_metadata.podcast_episode_name}if(document.querySelectorAll('[amplitude-song-info="podcast-episode-author"]')){var o=document.querySelectorAll('[amplitude-song-info="podcast-episode-author"]');for(i=0;i<o.length;i++)o[i].innerHTML=a.active_metadata.podcast_episode_author}if(document.querySelectorAll('[amplitude-song-info="podcast-episode-duration"]')){var p=document.querySelectorAll('[amplitude-song-info="podcast-episode-duration"]');for(i=0;i<p.length;i++)p[i].innerHTML=a.active_metadata.podcast_episode_duration}if(document.querySelectorAll('[amplitude-song-info="podcast-episode-description"]')){var q=document.querySelectorAll('[amplitude-song-info="podcast-episode-description"]');for(i=0;i<p.length;i++)q[i].innerHTML=a.active_metadata.podcast_episode_description}if(document.querySelectorAll('[amplitude-song-info="podcast-episode-cover-art"]')){var e=document.querySelectorAll('[amplitude-song-info="podcast-episode-cover-art"]');for(i=0;i<e.length;i++)void 0!=a.active_metadata.podcast_episode_cover_art?e[i].setAttribute("src",a.active_metadata.podcast_episode_cover_art):""!=a.default_album_art?e[i].setAttribute("src",a.default_album_art):e[i].setAttribute("src","")}if(document.querySelectorAll('[amplitude-song-info="podcast-name"]')){var r=document.querySelectorAll('[amplitude-song-info="podcast-name"]');for(i=0;i<r.length;i++)r[i].innerHTML=a.active_metadata.podcast_name}}function W(){var b=document.getElementsByClassName("amplitude-song-container");for(i=0;i<b.length;i++)b[i].classList.remove("amplitude-active-song-container");if(document.querySelectorAll('.amplitude-song-container[amplitude-song-index="'+a.active_index+'"]')){var b=document.querySelectorAll('.amplitude-song-container[amplitude-song-index="'+a.active_index+'"]');for(i=0;i<b.length;i++)b[i].classList.add("amplitude-active-song-container")}}function X(){if(!a.visualization_started&&Object.keys(a.visualizations).length>0){if(""!=a.active_visualization)a.visualizations[a.active_visualization].startVisualization(a.active_song),a.current_visualization=a.visualizations[a.active_visualization];else{for(first_visualization in a.visualizations);a.visualizations[first_visualization].startVisualization(a.active_song),a.current_visualization=a.visualizations[first_visualization]}a.visualization_started=!0}}function Y(){a.visualization_started&&Object.keys(a.visualizations).length>0&&(a.current_visualization.stopVisualization(),a.visualization_started=!1)}function Z(){var a=document.getElementsByTagName("head")[0],b=document.createElement("script");b.type="text/javascript",b.src="https://connect.soundcloud.com/sdk.js",b.onreadystatechange=$,b.onload=$,a.appendChild(b)}function $(){SC.initialize({client_id:a.soundcloud_client}),_()}function _(){for(var b=/^https?:\/\/(soundcloud.com|snd.sc)\/(.*)$/,c=0;c<a.songs.length;c++)a.songs[c].url.match(b)&&(a.soundcloud_song_count++,aa(a.songs[c].url,c))}function aa(c,d){SC.get("/resolve/?url="+c,function(c){c.streamable?(a.songs[d].url=c.stream_url+"?client_id="+a.soundcloud_client,a.soundcloud_use_art&&(a.songs[d].cover_art_url=c.artwork_url),a.songs[d].soundcloud_data=c):M(a.songs[d].name+" by "+a.songs[d].artist+" is not streamable by the Soundcloud API"),a.soundcloud_songs_ready++,a.soundcloud_songs_ready==a.soundcloud_song_count&&J(b)})}function ba(){for(var a=document.getElementsByClassName("amplitude-play-pause"),b=0;b<a.length;b++)a[b].classList.add("amplitude-paused"),a[b].classList.remove("amplitude-playing")}function ca(b){if(ba(),"playing"==b){if(document.querySelectorAll('.amplitude-play-pause[amplitude-song-index="'+a.active_index+'"]').length>0)for(var c=document.querySelectorAll('.amplitude-play-pause[amplitude-song-index="'+a.active_index+'"]'),d=0;d<c.length;d++)c[d].classList.add("amplitude-playing"),c[d].classList.remove("amplitude-paused");if(document.querySelectorAll('[amplitude-main-play-pause="true"]').length>0)for(var e=document.querySelectorAll('[amplitude-main-play-pause="true"]'),d=0;d<e.length;d++)e[d].classList.add("amplitude-playing"),e[d].classList.remove("amplitude-paused")}if("paused"==b){if(document.querySelectorAll('.amplitude-play-pause[amplitude-song-index="'+a.active_index+'"]').length>0)for(var c=document.querySelectorAll('.amplitude-play-pause[amplitude-song-index="'+a.active_index+'"]'),d=0;d<c.length;d++)c[d].classList.remove("amplitude-playing"),c[d].classList.add("amplitude-paused");if(document.querySelectorAll('[amplitude-main-play-pause="true"]').length>0)for(var e=document.querySelectorAll('[amplitude-main-play-pause="true"]'),d=0;d<e.length;d++)e[d].classList.add("amplitude-paused"),e[d].classList.remove("amplitude-playing")}}function da(){for(var a=document.getElementsByClassName("amplitude-song-slider"),b=0;b<a.length;b++)a[b].value=0}function ea(){for(var b=document.getElementsByClassName("amplitude-volume-slider"),c=0;c<b.length;c++)b[c].value=100*a.active_song.volume}function fa(){window.AudioContext||K()}function ga(){for(var a=document.getElementsByClassName("amplitude-current-minutes"),b=0;b<a.length;b++)a[b].innerHTML="00";for(var c=document.getElementsByClassName("amplitude-current-seconds"),b=0;b<c.length;b++)c[b].innerHTML="00"}function ha(){for(var a=document.getElementsByClassName("amplitude-song-container"),b=0;b<a.length;b++)a[b].classList.remove("amplitude-active-song-container")}function ia(){for(var b=document.getElementsByClassName("amplitude-shuffle"),c=0;c<b.length;c++)a.shuffle_on?(b[c].classList.add("amplitude-shuffle-on"),b[c].classList.remove("amplitude-shuffle-off")):(b[c].classList.remove("amplitude-shuffle-on"),b[c].classList.add("amplitude-shuffle-off"))}function ja(){for(var b=document.getElementsByClassName("amplitude-repeat"),c=0;c<b.length;c++)a.repeat?(b[c].classList.add("amplitude-repeat-on"),b[c].classList.remove("amplitude-repeat-off")):(b[c].classList.remove("amplitude-repeat-on"),b[c].classList.add("amplitude-repeat-off"))}function ka(){for(var b=document.getElementsByClassName("amplitude-playback-speed"),c=0;c<b.length;c++)switch(b[c].classList.remove("amplitude-playback-speed-10"),b[c].classList.remove("amplitude-playback-speed-15"),b[c].classList.remove("amplitude-playback-speed-20"),a.playback_speed){case 1:b[c].classList.add("amplitude-playback-speed-10");break;case 1.5:b[c].classList.add("amplitude-playback-speed-15");break;case 2:b[c].classList.add("amplitude-playback-speed-20")}}function la(){T("before_play"),a.active_metadata.live&&ra(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&!a.paused&&ra(),a.active_song.play(),a.active_song.playbackRate=a.playback_speed,T("after_play")}function ma(){a.active_song.pause(),a.paused=!0,a.active_metadata.live&&qa()}function na(){T("before_stop"),a.active_song.currentTime=0,a.active_song.pause(),a.active_metadata.live&&qa(),T("after_stop")}function oa(b){a.active_song.volume=b/100}function pa(b){a.active_metadata.live||(a.active_song.currentTime=a.active_song.duration*(b/100))}function qa(){a.active_song.src="",a.active_song.load()}function ra(){a.active_song.src=a.active_metadata.url,a.active_song.load()}var a={active_song:new Audio,active_metadata:{},active_album:"",active_index:0,pause_clicked:!1,autoplay:!1,playback_speed:1,album_change:!1,dynamic_mode:!1,callbacks:{},songs:{},repeat:!1,shuffle_list:{},shuffle_on:!1,shuffle_active_index:0,default_album_art:"",debug:!1,initialized:!1,handle_song_elements:!0,volume:.5,pre_mute_volume:.5,volume_increment:5,volume_decrement:5,use_visualizations:!1,visualizations:new Array,active_visualization:"",current_visualization:{},visualization_started:!1,visualization_backup:"",soundcloud_client:"",soundcloud_use_art:!1,soundcloud_song_count:0,soundcloud_songs_ready:0,context:"",analyser:"",source:""},b={};return{init:c,setDebug:d,getActiveSongMetadata:e,getSongByIndex:j,playNow:m,play:n,pause:o,registerVisualization:f,visualizationCapable:h,changeVisualization:g,addSong:l,analyser:p,active:a.active_song,activeIndex:k}}();