<!doctype html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="sidr/stylesheets/jquery.sidr.dark.css">
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="tabScript.js"></script>
	<script type="text/javascript" src="hover.js"></script>
</head>

<body>
	<script>
	$(document).ready(function() {	
		var song1 = createSong("555", "Take Me To Church", "Hozier");
		var song2 = createSong("555", "Shake It Off", "Taylor Swift");
		var song3 = createSong("555", "Sail", "AWOLNATION");
		var song4 = createSong("555", "From Eden", "Hozier");
		
		var searchTab = document.getElementById("searchFunc");
		var play = document.getElementById("playlist");
		
		addSongToTab(song1, searchTab);
		addSongToTab(song2, searchTab);
		addSongToTab(song3, searchTab);
		addSongToTab(song4, searchTab);
		addSongToTab(song4, play);
		
	});
	
	function createSong(id, name, artist) {
		var result = new Object();
		result["id"] = id;
		result["name"] = name;
		result["artist"] = artist;
		
		// Call for this data.
		result["votes"] = 50;
		
		return result;
	}
	
	function addSongToTab(song, tab) {
		// Create overall layout.
		var songItem = document.createElement('div');
		var containBox = document.createElement('div');
		var containInfo = document.createElement('div');
		var votingItem = document.createElement('span');
		var basicItem = document.createElement('span');
		var buttonItem = document.createElement('span');
		
		songItem.className = "song";
		containBox.className = "containBox";
		votingItem.className = "voting";
		basicItem.className = "basic";
		buttonItem.className = "button";
		
		songItem.appendChild(containBox);
		containBox.appendChild(containInfo);
		containInfo.appendChild(votingItem);
		containInfo.appendChild(basicItem);
		containInfo.appendChild(buttonItem);
		
		// Create all voting items.
		var up = document.createElement('div');
		var number = document.createElement('div');
		var down = document.createElement('div');
		
		up.className = "upArrow";
		number.className = "number";
		down.className = "downArrow";
		
		number.innerHTML = song["votes"];
		
		votingItem.appendChild(up);
		votingItem.appendChild(number);
		votingItem.appendChild(down);
		
		// Create all basic items.
		var name = document.createElement('div');
		var band = document.createElement('div');
		
		name.className = "name";
		band.className = "band";
		
		name.innerHTML = song["name"];
		band.innerHTML = song["artist"];
		
		basicItem.appendChild(name);
		basicItem.appendChild(band);
		
		// Add all the buttons.
		var info = document.createElement('span');
		var add = document.createElement('span');
		var del = document.createElement('span');
		
		info.className = "circle";
		add.className = "circle";
		del.className = "circle";
		
		info.innerHTML = "i";
		add.innerHTML = "+";
		del.innerHTML = "x";
		
		add.style.background = '#008000';
		add.style.color = "white";
		del.style.background = "red";
		del.style.color = "white";
		
		buttonItem.appendChild(info);
		if (tab != document.getElementById("playlist")) buttonItem.appendChild(add);
		buttonItem.appendChild(del);
		
		// Create functionality.
		add.onclick = function add() {
			var play = document.getElementById("playlist");
			
			// Remove and append.
			buttonItem.removeChild(buttonItem.childNodes[1]);
			tab.removeChild(songItem);
			play.appendChild(songItem);
			
			// Change the remove function to reflect the new parent.
			del.onclick = function remove() {
				removeMore(play, songItem, containBox, containInfo);
			}
			
			// Do server call to add to playlist.
		}
		
		del.onclick = function remove() {
			removeMore(tab, songItem, containBox, containInfo);
		}
		
		// Make info box.
		var infoBox = document.createElement('div');
		infoBox.className = "infoBox";
		
		info.onclick = function info() {
			if (infoBox.parentNode == songItem) {
				infoBox.addEventListener("animationend", function listen() {
					listener(infoBox, listen);
				});
				infoBox.style["animation-name"] = "moveIn";
			} else {
				infoBox.innerHTML = "Some words!";
			
				songItem.appendChild(infoBox);
			}
		}
		
		// Append to body for now.
		tab.appendChild(songItem);
	}
	
	
	
	function listener(infoBox, listen) {
		infoBox.parentNode.removeChild(infoBox);
		infoBox.removeEventListener("animationend", listen);
		infoBox.style["animation-name"] = "moveOut";
	}
	
	function removeMore(parent, songItem, 
						containBox, containInfo) {
		containBox.removeChild(containInfo);
	
		var con = document.createElement('div');
		var desc = document.createElement('div');
		var but = document.createElement('div');
		var yes = document.createElement('span');
		var no = document.createElement('span');
			
		containBox.appendChild(con);
			
		con.className = "confirm";
		but.className = "button";
		yes.className = "circle";
		no.className = "circle";
			
			
		if (parent == document.getElementById("playlist")) {
			desc.innerHTML = "Are you sure you want to remove this song from the playlist?";
		} else {
			desc.innerHTML = "Are you sure you want to remove this song from the database?";
		}
		yes.innerHTML = "Yes.";
		no.innerHTML = "No.";
			
		yes.onclick = function yes() {
			parent.removeChild(songItem);
			
			if (parent == document.getElementById("playlist")) {
				// Add remove from playlist functionality
			} else {
				// Also remove from server functionality here!
			}
		}
			
		no.onclick = function no() {
			containBox.removeChild(con);
			containBox.appendChild(containInfo);
		}
			
		con.appendChild(desc);
		con.appendChild(but);
		but.appendChild(yes);
		but.appendChild(no);
	}
	
	function loadInformation(song) {
		// Load in the information for this. 
		song["tags"] = "I, Have, None!";
		
		return song;
	}
	
	function displayInformation(song, infoBox) {
		
	}
	</script>
	
	<div class="playlist">
		<div class="playhead">
			<div>
			</div>
			<div class="bounce">
				<div class="lineDance1"></div>
				<div class="lineDance2"></div>
				<div class="lineDance3"></div>
				<div class="lineDance2"></div>
				<div class="lineDance1"></div>
			</div>
		</div>
		<div id="playlist" class="playsongs">
		</div>
	</div>
	<!-- creates all the tabs on the side that can be clicked -->
	<div id="container" class="tabContainer">		
				
		<a id="search" href="#searchFunc"><div id="searchContainer" class="tabLinkContainer">
			<span id="searchSpan" class="tabLink">
				Search
			</span>
			<span class="arrow-right"></span>
		</div></a> 
		
		<a id="news" href="#newsFunc"><div class="tabLinkContainer">
			<span id="newsSpan" class="tabLink">
				News
			</span>
			<span class="arrow-right"></span>
		</div></a>
		
		<a id="soundboard" href="#soundboardFunc"><div class="tabLinkContainer">
			<span id="soundboardSpan" class="tabLink">
				Soundboard
			</span>
			<span class="arrow-right"></span>
		</div></a>
		
		<a id="calendar" href="#calendarFunc"><div class="tabLinkContainer">
			<span id="calendarSpan" class="tabLink">
				Calendar
			</span>
			<span class="arrow-right"></span>
		</div></a>
		
		<a id="djChat" href="#djChatFunc"><div class="tabLinkContainer">
			<span id="djChatSpan" class="tabLink">
				DJ Chat
			</span>
			<span class="arrow-right"></span>
		</div></a>
		
		<a id="audience" href="#audienceFunc"><div class="tabLinkContainer">
			<span id="audienceSpan" class="tabLink">
				Audience
			</span>
			<span class="arrow-right"></span>
		</div></a>
		
		<a id="settings" href="#settingsFunc"><div class="tabLinkContainer">
			<span id="settingsSpan" class="tabLink">
				Settings
			</span>
			<span class="arrow-right"></span>
		</div></a>
	</div>
	
	<!-- This is the part where we create what's inside the actual tabs that pull out -->
	<div id="searchTab" class="sidr">
	</div>
	
	<div id="newsTab" class="sidr">
		<h1>I am a news tab!</h1>
	</div>
	
	<div id="soundboardTab" class="sidr">
		<h1>I am a soundboard tab!</h1>
	</div>
	<div id="calendarTab" class="sidr">
		<h1>I am a calendar tab!</h1>
		
		<TABLE class="dummyCalendar"BORDER=3 CELLSPACING=3 CELLPADDING=3> 
<TR>
<TD COLSPAN="7" ALIGN=center><B>April 2015</B></TD> 
</TR>
<TR> 
<TD COLSPAN="7" ALIGN=center><I>Play all of the music!</I></TD>
</TR>
<TR> 
<TD ALIGN=center>Sun</TD>
<TD ALIGN=center>Mon</TD>
<TD ALIGN=center>Tue</TD>
<TD ALIGN=center>Wed</TD>
<TD ALIGN=center>Thu</TD>
<TD ALIGN=center>Fri</TD>
<TD ALIGN=center>Sat</TD>
</TR>
<TR> 
<TD ALIGN=center></TD>
<TD ALIGN=center></TD>
<TD ALIGN=center></TD>
<TD ALIGN=center><a href="https://youtu.be/dQw4w9WgXcQ">1</TD>
<TD ALIGN=center>2</TD>
<TD ALIGN=center>3</TD>
<TD ALIGN=center>4</TD>
</TR>
<TR> 
<TD ALIGN=center>5</TD>
<TD ALIGN=center>6</TD>
<TD ALIGN=center>7</TD>
<TD ALIGN=center>8</TD>
<TD ALIGN=center>9</TD>
<TD ALIGN=center>10</TD>
<TD ALIGN=center>11</TD>
</TR>
<TR> 
<TD ALIGN=center>12</TD>
<TD ALIGN=center>13</TD>
<TD ALIGN=center>14</TD>
<TD ALIGN=center>15</TD>
<TD ALIGN=center>16</TD>
<TD ALIGN=center>17</TD>
<TD ALIGN=center>18</TD>
</TR>
<TR> 
<TD ALIGN=center>19</TD>
<TD ALIGN=center>20</TD>
<TD ALIGN=center>21</TD>
<TD ALIGN=center>22</TD>
<TD ALIGN=center>23</TD>
<TD ALIGN=center>24</TD>
<TD ALIGN=center>25</TD>
</TR>
<TR> 
<TD ALIGN=center>26</TD>
<TD ALIGN=center>27</TD>
<TD ALIGN=center>28</TD>
<TD ALIGN=center>29</TD>
<TD ALIGN=center>30</TD>
<TD ALIGN=center></TD>
<TD ALIGN=center></TD>
</TR>

</TABLE>


	</div>
	<div id="djChatTab" class="sidr">
		<h1>I am a DJ Chat tab!</h1>
	</div>
	<div id="audienceTab" class="sidr">
		<h1>I am an audience tab!</h1>
	</div>
	<div id="settingsTab" class="sidr">
		<h1>I am a settings tab!</h1>
	</div>
	
	
    <!-- Include the Sidr JS -->
    <script src="sidr/jquery.sidr.min.js"></script>
	<script type="text/javascript" src="tabScript.js"></script>
	</body>
</html>

